Proof of Reserves
=================

## Build Merkle Tree

### Build

Dependencies: `openssl`(sha256).


````
g++ main.cpp -lcrypto -L/usr/local/lib -I/usr/local/include -o build_tree
````    

### inputs.txt

````
         # user ID #                # balance #
56f3d259872ebe5fbaf0e5310a905e1d	451045565213
4da5bddb9d0ea03b29d7588627bc9949	33376669492065
b8ebe442ba6906a85519403d7853fd2e	3243092669
0130e88c81e41dff256745e913619336	1099203508612
d9831e7cc4fdcf143cb0fa6f455c1979	100011000
fe72624db6755c121a0aefc5f1c8deb2	1021602810442
3088c027231736279e41e74c2f4ff0fc	9108200000000
278dbbf10a82612854378cf365bd8a61	1239514033370
f7a473c6f35e3a3376fad06fd3afa9f9	100047062
060aea05fc2a62347791cb7bba04f01a	431720987
91d592a09fb8406d73d626805542a328	100011000
a67df2ff67b6000d10fe3025af38cf8a	87654322
ecf02cba638be75fd3d5b1fd8055f199	904287585469
1e4dc3f2117866ee858ae3dcafab4db7	99996957558
b158a5b7c6c6e825405f7a57d88eba84	1096923696547
0241db072e0d6991b833b955c3bbdc5a	19999973938
a7b653a17aed9ad1cbc04778895cbee4	25103025
````

### Run

    ./build_tree -i inputs.txt
    

### Output

````
#
# line format: <index> \t <level> \t <balance/sum> \t <hash> \n
#
0	0	25103025	0564b0b9b84b48b8
1	0	100011000	07c323ab39c163cd
2	0	100011000	07cbebe3817cef95
3	0	9108200000000	0e8fdd711d6d93d8
4	0	33376669492065	131f633d1811cfcf
5	0	19999973938	2c003843668f7d8b
6	0	431720987	3bd4fb901113f54f
7	0	1096923696547	4b4a5b2d2de6a740
8	0	100047062	61da3730bff4356b
9	0	1239514033370	63927e6b670457c3
10	0	3243092669	719fe9543aa0f219
11	0	1099203508612	a3032752f3e9219c
12	0	87654322	a310c199ee398920
13	0	1021602810442	bed1a94476362ed6
14	0	451045565213	c23e208af5384382
15	0	904287585469	ea3cee4dc4255897
16	0	99996957558	ff0ac48322e5643f
17	0	99996957558	ff0ac48322e5643f    // this is padding node
18	1	125114025	8b5a9723dec9f4ee
19	1	9108300011000	95d77b8e6430972a
20	1	33396669466003	16cd93a22f24b44b
21	1	1097355417534	eae86a41d0c862c0
22	1	1239614080432	2bcb99b652dccec2
23	1	1102446601281	094855f1930e5a19
24	1	1021690464764	da24db787d078afc
25	1	1355333150682	f17eb1c42c8d0b1c
26	1	199993915116	a27988f560d37008
27	1	199993915116	a27988f560d37008    // this is padding node
28	2	9108425125025	4b96d6dee98fc1a9
29	2	34494024883537	3d6ba689a47dbd95
30	2	2342060681713	6b4d19ebb9038634
31	2	2377023615446	2c5e5524f06c4bd9
32	2	399987830232	618966d2426f89af
33	2	399987830232	618966d2426f89af    // this is padding node
34	3	43602450008562	ac99d064b8c0e5b7
35	3	4719084297159	bac2552e76948706
36	3	799975660464	13b8b00e4ed74a95
37	3	799975660464	13b8b00e4ed74a95
38	4	48321534305721	8b6026836ae60493
39	4	1599951320928	b4d0c23eaae7ba2a
40	5	49921485626649	ba2a3cdd04ea4c25
#
# last line format: <count(users)> \t <sum(balance)> \t <sum(padding node balance)> \t <level>
#
17	48421531263279	1499954363370	5
````
